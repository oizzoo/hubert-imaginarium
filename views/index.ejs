<!DOCTYPE html>
<html lang="<%= lang === 'en' ? 'en' : 'pl' %>">

<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Hubert Kniaź Imaginarium</title>
  <link href="https://fonts.googleapis.com/css2?family=Special+Elite&display=swap" rel="stylesheet" />
  <link rel="stylesheet" href="/styles.css" />
</head>

<body>
  <%- include('partials/header') %>

    <!-- PRZYCISK W PRAWYM GÓRNYM ROGU -->
    <button id="language-toggle" type="button" class="language-button" aria-label="Przełącz język">
      <%= lang==='pl' ? 'EN' : 'PL' %>
    </button>

    <main class="page-grid" role="main">

      <% const langPrefix=lang==='en' ? '/en-' : '/' ; %>

        <nav class="side-menu" aria-label="<%= lang === 'pl' ? 'Główne menu' : 'Main menu' %>">
          <ul>
            <li>
              <a href="<%= langPrefix + 'o-mnie' %>" class="menu-link" tabindex="0">
                <%= lang==='pl' ? 'O mnie' : 'About me' %>
              </a>
            </li>

            <li class="has-submenu" aria-haspopup="true">
              <span class="menu-label" tabindex="0" role="button">
                <%= lang==='pl' ? 'Materiały' : 'Materials' %>
              </span>
              <ul class="submenu" aria-label="<%= lang === 'pl' ? 'Materiały submenu' : 'Materials submenu' %>">
                <% const submenuPaths=[ 'worldbuilding' , 'characters' , 'opening-scene' , 'short-story' , 'rpg-session'
                  , 'twine-game' ]; const submenuTexts=lang==='pl' ? [ 'Worldbuilding' , 'Sylwetki bohaterów'
                  , 'Scena otwierająca/dialog' , 'Krótka fabuła' , 'Sesja RPG' , 'Gra Twine' , ] : [ 'Worldbuilding'
                  , 'Character Sketches' , 'Opening Scene/dialog' , 'Short Story' , 'RPG Session' , 'Twine Game' , ]; %>

                  <% submenuPaths.forEach((path, i)=> { %>
                    <li class="submenu-item">
                      <a href="<%= langPrefix + 'materialy/' + path %>" class="submenu-link" tabindex="0">
                        <span>
                          <%= submenuTexts[i] %>
                        </span>
                      </a>
                    </li>
                    <% }) %>
              </ul>
            </li>

            <li>
              <a href="<%= langPrefix + 'kontakt' %>" class="menu-link" tabindex="0">
                <%= lang==='pl' ? 'Kontakt' : 'Contact' %>
              </a>
            </li>
          </ul>
        </nav>


        <section class="content-main">
          <% if (lang==='pl' ) { %>
            <h1>Witamy na stronie Huberta Kniazia!</h1>
            <p>
              "Ale muszę Ci wyjaśnić, jak powstał ten błędny pogląd potępiania rozkoszy oraz wychwalania bólu...
              <!-- pełny polski tekst -->
            </p>
            <% } else { %>
              <h1>Welcome to Hubert Kniaź's website!</h1>
              <p>
                "But I must explain to you how all this mistaken idea of denouncing pleasure and praising pain was born
                and I will
                give you a complete account of the system, and expound the actual teachings of the great explorer of the
                truth, the
                master-builder of human happiness. No one rejects, dislikes, or avoids pleasure itself, because it is
                pleasure...
                <!-- pełny angielski tekst -->
              </p>
              <% } %>
        </section>
    </main>

    <%- include('partials/footer') %>

      <script>
        const button = document.getElementById('language-toggle');

        if (button) {
          function updateButtonText() {
            if (window.location.pathname === '/en-main') {
              button.textContent = 'PL';
            } else {
              button.textContent = 'EN';
            }
          }

          updateButtonText();

          button.addEventListener('click', () => {
            if (window.location.pathname === '/en-main') {
              window.location.pathname = '/main';
            } else {
              window.location.pathname = '/en-main';
            }
          });
        }
      </script>
</body>

</html>